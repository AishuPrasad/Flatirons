databaseChangeLog:
  - changeSet:
      id: 1
      author: aishwarya
      changes:
        - createTable:
            tableName: candidate
            columns:
              - column:
                  name: id
                  type: BIGINT
                  autoIncrement: true
                  constraints:
                    primaryKey: true
              - column:
                  name: name
                  type: VARCHAR(255)
              - column:
                  name: email
                  type: VARCHAR(255)

  - changeSet:
      id: 2
      author: aishwarya
      changes:
        - createTable:
            tableName: interviewer
            columns:
              - column:
                  name: id
                  type: BIGINT
                  autoIncrement: true
                  constraints:
                    primaryKey: true
              - column:
                  name: name
                  type: VARCHAR(255)
              - column:
                  name: expertise
                  type: VARCHAR(255)

  - changeSet:
      id: 3
      author: aishwarya
      changes:
        - createTable:
            tableName: interview
            columns:
              - column:
                  name: id
                  type: BIGINT
                  autoIncrement: true
                  constraints:
                    primaryKey: true

              - column:
                  name: scheduled_at
                  type: TIMESTAMP

              - column:
                  name: status
                  type: VARCHAR(50)

              - column:
                  name: candidate_id
                  type: BIGINT

        - addForeignKeyConstraint:
            baseTableName: interview
            baseColumnNames: candidate_id
            referencedTableName: candidate
            referencedColumnNames: id
            constraintName: fk_interview_candidate

  - changeSet:
      id: 4
      author: aishwarya
      changes:
        - createTable:
            tableName: interview_interviewers
            columns:
              - column:
                  name: interview_id
                  type: BIGINT
                  constraints:
                    nullable: false

              - column:
                  name: interviewer_id
                  type: BIGINT
                  constraints:
                    nullable: false
        - addForeignKeyConstraint:
            baseTableName: interview_interviewers
            baseColumnNames: interview_id
            referencedTableName: interview
            referencedColumnNames: id
            constraintName: fk_interview_interviewers_interview

        - addForeignKeyConstraint:
            baseTableName: interview_interviewers
            baseColumnNames: interviewer_id
            referencedTableName: interviewer
            referencedColumnNames: id
            constraintName: fk_interview_interviewers_interviewer

  - changeSet:
      id: 5
      author: aishwarya
      changes:
        - createTable:
            tableName: feedback
            columns:
              - column:
                  name: id
                  type: BIGINT
                  autoIncrement: true
                  constraints:
                    primaryKey: true

              - column:
                  name: rating
                  type: INT

              - column:
                  name: comments
                  type: VARCHAR(500)

              - column:
                  name: interview_id
                  type: BIGINT

        - addForeignKeyConstraint:
            baseTableName: feedback
            baseColumnNames: interview_id
            referencedTableName: interview
            referencedColumnNames: id
            constraintName: fk_feedback_interview
  - changeSet:
      id: add-unique-constraint-candidate-email
      author: aishwarya
      changes:
        - addUniqueConstraint:
            tableName: candidate
            columnNames: email
            constraintName: uk_candidate_email



